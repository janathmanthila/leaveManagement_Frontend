{"ast":null,"code":"var _jsxFileName = \"F:\\\\GIT\\\\LeaveManagementFinal\\\\dashboard\\\\src\\\\components\\\\allocation\\\\LeaveAllocation.jsx\";\nimport React, { Component, Fragment } from \"react\";\nimport \"react-dual-listbox/lib/react-dual-listbox.css\";\nimport axios from \"axios\";\nimport AllocationLine from \"../allocation-lines/allocation-lines.component\";\n\nclass LeaveAllocation extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getLeaveAllocate = id => {\n      const obj = this.state.leaveAllocate.find(leaveAllocation => {\n        return leaveAllocation._id === id;\n      });\n\n      if (obj) {\n        document.getElementById(\"leaveAllocate_id_edited\").value = obj._id;\n        document.getElementById(\"employee_edited\").value = obj.employeeId._id;\n        document.getElementById(\"leaveType_edited\").value = obj.leaveTypeId._id;\n        document.getElementById(\"num_of_leaves_edited\").value = obj.leaveAmount;\n        document.getElementById(\"year_edited\").value = obj.year;\n      }\n    };\n\n    this.add_allocation_line = () => {\n      const {\n        allocationLines\n      } = this.state;\n\n      if (allocationLines.length > 0) {\n        const lastAllocatedLineID = allocationLines[allocationLines.length - 1].id;\n        this.setState({\n          allocationLines: [...allocationLines, {\n            id: lastAllocatedLineID + 1,\n            leaveTypeId: null,\n            leaveAmount: null\n          }]\n        });\n      } else {\n        this.setState({\n          allocationLines: [{\n            id: 1,\n            leaveTypeId: null,\n            leaveAmount: null\n          }]\n        });\n      }\n    };\n\n    this.handleDeleteClick = id => {\n      console.log(id);\n      const newAllocationList = this.state.allocationLines.filter(line => line.id !== id);\n      this.setState({\n        allocationLines: newAllocationList\n      });\n    };\n\n    this.handleLineChange = (id, event) => {\n      console.log(id);\n      const allocationLineList = this.state.allocationLines.map(line => {\n        if (line.id === id) {\n          return { ...line,\n            [event.target.name]: event.target.value\n          };\n        } else {\n          return line;\n        }\n      });\n      this.setState({\n        allocationLines: allocationLineList\n      });\n    };\n\n    this.getLeavesAllocation = () => {\n      return this.state.leaveAllocate.map(leaveAllocation => {\n        console.log(leaveAllocation);\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 11\n          }\n        }, leaveAllocation.employeeId.first_name + \" \" + leaveAllocation.employeeId.last_name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }\n        }, leaveAllocation.leaveTypeId.leaveType), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }\n        }, leaveAllocation.leaveAmount), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }\n        }, leaveAllocation.year), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }\n        }, leaveAllocation.leaveAllocate_status ? \"Active\" : \"Inactive\"), /*#__PURE__*/React.createElement(\"td\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          type: \"button\",\n          className: \"btn mr-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-edit\",\n          \"data-toggle\": \"modal\",\n          \"data-target\": \".update-leaveAllocation\",\n          onClick: () => this.getLeaveAllocate(leaveAllocation._id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }\n        }, \"\\xA0 Update\")), \"\\xA0\", /*#__PURE__*/React.createElement(\"a\", {\n          type: \"button\",\n          className: \"btn mr-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          onClick: () => this.deleteLeaveAllocate(leaveAllocation._id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }\n        }, \"\\xA0 Delete\"))), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-info\",\n          onClick: () => this.changeStatus(leaveAllocation._id, leaveAllocation.leaveAllocate_status),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }\n        }, leaveAllocation.leaveAllocate_status ? \"Inactive\" : \"Active\")));\n      });\n    };\n\n    this.changeStatus = (id, currentStatus = false) => {\n      const obj = {\n        leaveAllocate_status: !currentStatus\n      };\n      axios.post(\"http://localhost:9000/LeaveAllocate/update/\" + id, obj).then(res => {\n        console.log(res.data);\n        window.location.href = \"/leave_allocation\";\n      });\n    };\n\n    this.allocateLeave = event => {\n      event.preventDefault();\n      var formData = new FormData(event.target);\n      const allocationData = {\n        employeeId: formData.get(\"employeeName\"),\n        year: formData.get(\"year\"),\n        lines: this.state.allocationLines\n      };\n      axios.post(\"http://localhost:9000/leaveAllocate/add\", allocationData).then(response => {\n        window.location = \"/leave_allocation\";\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.updateLeaveAllocation = event => {\n      event.preventDefault();\n      var formData = new FormData(event.target);\n      const leaveAllocation = {\n        leaveAmount: formData.get(\"update-num_of_leaves\"),\n        employeeId: formData.get(\"update-employeeName\"),\n        leaveTypeId: formData.get(\"update-leaveTypeId\"),\n        year: formData.get(\"update-year\")\n      };\n      axios.post(\"http://localhost:9000/LeaveAllocate/update/\" + document.getElementById(\"leaveAllocate_id_edited\").value, leaveAllocation).then(res => {\n        // console.log(res.data);\n        window.location.href = \"/leave_allocation\";\n      });\n      this.props.history.push(\"/leave_allocation\");\n    };\n\n    const year = new Date().getFullYear();\n    this.years = Array.from(new Array(5), (val, index) => index + year);\n    this.state = {\n      employeeName: \"\",\n      employeeList: [],\n      leaveAllocate: [],\n      leaveType: \"\",\n      leaveTypes: [],\n      year: \"\",\n      allocationLines: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:9000/employee\").then(response => {\n      this.setState({\n        employeeList: response.data\n      });\n    }).catch(error => console.log(error.response));\n    axios.get(\"http://localhost:9000/leaveType\").then(response => {\n      this.setState({\n        leaveTypes: response.data\n      });\n    }).catch(error => console.log(error.response));\n    axios.get(\"http://localhost:9000/leaveAllocate\").then(response => {\n      this.setState({\n        leaveAllocate: response.data\n      });\n    }).catch(error => console.log(error.response));\n  }\n\n  deleteLeaveAllocate(id) {\n    axios.delete(\"http://localhost:9000/leaveAllocate/delete/\" + id).then(res => {\n      console.log(\"designation successfully deleted!\");\n      window.location.href = \"/leave_allocation\";\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 13\n      }\n    }, \"Leave Allocations\"), /*#__PURE__*/React.createElement(\"ol\", {\n      className: \"breadcrumb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 19\n      }\n    }), \" Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }\n    }, \"Leave Allocations\")))), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-xs-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"pull-right btn btn-success\",\n      id: \"create_user\",\n      \"data-toggle\": \"modal\",\n      \"data-target\": \".leave-allocate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 21\n      }\n    }, \"Leave Allocation\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-striped table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 31\n      }\n    }, \"Employee\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 31\n      }\n    }, \"Leave Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 31\n      }\n    }, \"Number of Leaves\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 31\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 31\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 31\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 27\n      }\n    }, this.getLeavesAllocation()))))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade leave-allocate\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 19\n      }\n    }, \"Leave Allocate\")), /*#__PURE__*/React.createElement(\"form\", {\n      role: \"form\",\n      onSubmit: this.allocateLeave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 25\n      }\n    }, \"Employee\"), /*#__PURE__*/React.createElement(\"select\", {\n      type: \"\",\n      className: \"form-control\",\n      name: \"employeeName\",\n      onChange: e => this.setState({\n        employeeName: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: \"selected\",\n      disabled: \"disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 27\n      }\n    }, \"Select employee\"), this.state.employeeList.map(employee => /*#__PURE__*/React.createElement(\"option\", {\n      key: employee._id,\n      value: employee._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 29\n      }\n    }, employee.first_name + \" \" + employee.last_name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 25\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"year\",\n      onChange: e => this.setState({\n        year: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: \"selected\",\n      disabled: \"disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 27\n      }\n    }, \"Select Year\"), this.years.map((year, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: `year${index}`,\n        value: year,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 31\n        }\n      }, year);\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.add_allocation_line,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    }, \"Add Allocation Line\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"allocation_lines_container\",\n      className: \"mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 25\n      }\n    }, this.state.allocationLines.map(line => /*#__PURE__*/React.createElement(AllocationLine, Object.assign({}, line, {\n      key: line.id,\n      leaveTypes: this.state.leaveTypes,\n      handleDeleteClick: () => this.handleDeleteClick(line.id),\n      handleLineChange: e => this.handleLineChange(line.id, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 29\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 21\n      }\n    }, \"Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 21\n      }\n    }, \"Allocate\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal fade update-leaveAllocation\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      role: \"document\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"modal-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 19\n      }\n    }, \"Update Leave Allocate\")), /*#__PURE__*/React.createElement(\"form\", {\n      role: \"form\",\n      onSubmit: this.updateLeaveAllocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"hidden\",\n      className: \"form-control\",\n      name: \"designation_id\",\n      id: \"leaveAllocate_id_edited\",\n      placeholder: \"Employee ID\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 27\n      }\n    }, \"Employee\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"employee_edited\",\n      name: \"update-employeeName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: \"selected\",\n      disabled: \"disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 29\n      }\n    }, \"Select Employee\"), this.state.employeeList.map(emp => /*#__PURE__*/React.createElement(\"option\", {\n      key: emp._id,\n      value: emp._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 31\n      }\n    }, emp.first_name + \" \" + emp.last_name)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 27\n      }\n    }, \"Year\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"year_edited\",\n      name: \"update-year\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: \"selected\",\n      disabled: \"disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 29\n      }\n    }, \"Select Year\"), this.years.map((year, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: `year${index}`,\n        value: year,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 33\n        }\n      }, year);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 27\n      }\n    }, \"Leave Type\"), /*#__PURE__*/React.createElement(\"select\", {\n      className: \"form-control\",\n      id: \"leaveType_edited\",\n      name: \"update-leaveTypeId\",\n      required: \"required\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: \"selected\",\n      disabled: \"disabled\",\n      value: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 29\n      }\n    }, \"Select Leave Type\"), this.state.leaveTypes.map(leaveType => /*#__PURE__*/React.createElement(\"option\", {\n      key: leaveType._id,\n      value: leaveType._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 31\n      }\n    }, leaveType.leaveType)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 27\n      }\n    }, \"Number of Leaves\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      name: \"update-num_of_leaves\",\n      id: \"num_of_leaves_edited\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 27\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 21\n      }\n    }, \"Reset\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 21\n      }\n    }, \"Update\"))))))));\n  }\n\n}\n\nexport default LeaveAllocation;","map":{"version":3,"sources":["F:/GIT/LeaveManagementFinal/dashboard/src/components/allocation/LeaveAllocation.jsx"],"names":["React","Component","Fragment","axios","AllocationLine","LeaveAllocation","constructor","props","getLeaveAllocate","id","obj","state","leaveAllocate","find","leaveAllocation","_id","document","getElementById","value","employeeId","leaveTypeId","leaveAmount","year","add_allocation_line","allocationLines","length","lastAllocatedLineID","setState","handleDeleteClick","console","log","newAllocationList","filter","line","handleLineChange","event","allocationLineList","map","target","name","getLeavesAllocation","first_name","last_name","leaveType","leaveAllocate_status","deleteLeaveAllocate","changeStatus","currentStatus","post","then","res","data","window","location","href","allocateLeave","preventDefault","formData","FormData","allocationData","get","lines","response","catch","error","updateLeaveAllocation","history","push","Date","getFullYear","years","Array","from","val","index","employeeName","employeeList","leaveTypes","componentDidMount","delete","render","e","employee","emp"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport \"react-dual-listbox/lib/react-dual-listbox.css\";\nimport axios from \"axios\";\n\nimport AllocationLine from \"../allocation-lines/allocation-lines.component\";\n\nclass LeaveAllocation extends Component {\n  constructor(props) {\n    super(props);\n    const year = new Date().getFullYear();\n    this.years = Array.from(new Array(5), (val, index) => index + year);\n\n    this.state = {\n      employeeName: \"\",\n      employeeList: [],\n      leaveAllocate: [],\n      leaveType: \"\",\n      leaveTypes: [],\n      year: \"\",\n      allocationLines: [],\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(\"http://localhost:9000/employee\")\n      .then((response) => {\n        this.setState({ employeeList: response.data });\n      })\n      .catch((error) => console.log(error.response));\n\n    axios\n      .get(\"http://localhost:9000/leaveType\")\n      .then((response) => {\n        this.setState({ leaveTypes: response.data });\n      })\n      .catch((error) => console.log(error.response));\n\n    axios\n      .get(\"http://localhost:9000/leaveAllocate\")\n      .then((response) => {\n        this.setState({ leaveAllocate: response.data });\n      })\n      .catch((error) => console.log(error.response));\n  }\n\n  getLeaveAllocate = (id) => {\n    const obj = this.state.leaveAllocate.find((leaveAllocation) => {\n      return leaveAllocation._id === id;\n    });\n    if (obj) {\n      document.getElementById(\"leaveAllocate_id_edited\").value = obj._id;\n      document.getElementById(\"employee_edited\").value = obj.employeeId._id;\n      document.getElementById(\"leaveType_edited\").value = obj.leaveTypeId._id;\n      document.getElementById(\"num_of_leaves_edited\").value = obj.leaveAmount;\n      document.getElementById(\"year_edited\").value = obj.year;\n    }\n  };\n\n  add_allocation_line = () => {\n    const { allocationLines } = this.state;\n    if (allocationLines.length > 0) {\n      const lastAllocatedLineID =\n        allocationLines[allocationLines.length - 1].id;\n      this.setState({\n        allocationLines: [\n          ...allocationLines,\n          {\n            id: lastAllocatedLineID + 1,\n            leaveTypeId: null,\n            leaveAmount: null,\n          },\n        ],\n      });\n    } else {\n      this.setState({\n        allocationLines: [\n          {\n            id: 1,\n            leaveTypeId: null,\n            leaveAmount: null,\n          },\n        ],\n      });\n    }\n  };\n\n  handleDeleteClick = (id) => {\n    console.log(id);\n    const newAllocationList = this.state.allocationLines.filter(\n      (line) => line.id !== id\n    );\n\n    this.setState({ allocationLines: newAllocationList });\n  };\n\n  handleLineChange = (id, event) => {\n    console.log(id);\n\n    const allocationLineList = this.state.allocationLines.map((line) => {\n      if (line.id === id) {\n        return {\n          ...line,\n          [event.target.name]: event.target.value,\n        };\n      } else {\n        return line;\n      }\n    });\n    this.setState({ allocationLines: allocationLineList });\n  };\n\n  getLeavesAllocation = () => {\n    return this.state.leaveAllocate.map((leaveAllocation) => {\n      console.log(leaveAllocation);\n      return (\n        <tr>\n          <td>\n            {leaveAllocation.employeeId.first_name +\n              \" \" +\n              leaveAllocation.employeeId.last_name}\n          </td>\n          <td>{leaveAllocation.leaveTypeId.leaveType}</td>\n          <td>{leaveAllocation.leaveAmount}</td>\n          <td>{leaveAllocation.year}</td>\n          <td>\n            {leaveAllocation.leaveAllocate_status ? \"Active\" : \"Inactive\"}\n          </td>\n          <td scope=\"col\">\n            <a type=\"button\" className=\"btn mr-4\">\n              <i\n                className=\"fa fa-edit\"\n                data-toggle=\"modal\"\n                data-target=\".update-leaveAllocation\"\n                onClick={() => this.getLeaveAllocate(leaveAllocation._id)}\n              >\n                &nbsp; Update\n              </i>\n            </a>\n            &nbsp;\n            <a type=\"button\" className=\"btn mr-4\">\n              <i\n                className=\"fa fa-trash\"\n                onClick={() => this.deleteLeaveAllocate(leaveAllocation._id)}\n              >\n                &nbsp; Delete\n              </i>\n            </a>\n          </td>\n          <td>\n            <button\n              type=\"button\"\n              className=\"btn btn-outline-info\"\n              onClick={() =>\n                this.changeStatus(\n                  leaveAllocation._id,\n                  leaveAllocation.leaveAllocate_status\n                )\n              }\n            >\n              {leaveAllocation.leaveAllocate_status ? \"Inactive\" : \"Active\"}\n            </button>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  changeStatus = (id, currentStatus = false) => {\n    const obj = {\n      leaveAllocate_status: !currentStatus,\n    };\n    axios\n      .post(\"http://localhost:9000/LeaveAllocate/update/\" + id, obj)\n      .then((res) => {\n        console.log(res.data);\n        window.location.href = \"/leave_allocation\";\n      });\n  };\n\n  allocateLeave = (event) => {\n    event.preventDefault();\n    var formData = new FormData(event.target);\n    const allocationData = {\n      employeeId: formData.get(\"employeeName\"),\n      year: formData.get(\"year\"),\n      lines: this.state.allocationLines,\n    };\n\n    axios\n      .post(\"http://localhost:9000/leaveAllocate/add\", allocationData)\n      .then((response) => {\n        window.location = \"/leave_allocation\";\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  updateLeaveAllocation = (event) => {\n    event.preventDefault();\n    var formData = new FormData(event.target);\n    const leaveAllocation = {\n      leaveAmount: formData.get(\"update-num_of_leaves\"),\n      employeeId: formData.get(\"update-employeeName\"),\n      leaveTypeId: formData.get(\"update-leaveTypeId\"),\n      year: formData.get(\"update-year\"),\n    };\n    axios\n      .post(\n        \"http://localhost:9000/LeaveAllocate/update/\" +\n          document.getElementById(\"leaveAllocate_id_edited\").value,\n        leaveAllocation\n      )\n      .then((res) => {\n        // console.log(res.data);\n        window.location.href = \"/leave_allocation\";\n      });\n\n    this.props.history.push(\"/leave_allocation\");\n  };\n\n  deleteLeaveAllocate(id) {\n    axios\n      .delete(\"http://localhost:9000/leaveAllocate/delete/\" + id)\n      .then((res) => {\n        console.log(\"designation successfully deleted!\");\n        window.location.href = \"/leave_allocation\";\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"content-wrapper\">\n          <section className=\"content-header\">\n            <h1>Leave Allocations</h1>\n            <ol className=\"breadcrumb\">\n              <li>\n                <a href=\"#\">\n                  <i className=\"fa fa-users\"></i> Home\n                </a>\n              </li>\n              <li>\n                <a href=\"#\">Leave Allocations</a>\n              </li>\n            </ol>\n          </section>\n          <section className=\"content\">\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <div className=\"box\">\n                  <div className=\"box-header\">\n                    <button\n                      className=\"pull-right btn btn-success\"\n                      id=\"create_user\"\n                      data-toggle=\"modal\"\n                      data-target=\".leave-allocate\"\n                    >\n                      Leave Allocation\n                    </button>\n                  </div>\n                  <div className=\"box-body\">\n                    <div className=\"row\">\n                      <div className=\"col-md-12\">\n                        <table className=\"table table-striped table-bordered\">\n                          <thead>\n                            <tr>\n                              <th scope=\"col\">Employee</th>\n                              <th scope=\"col\">Leave Type</th>\n                              <th scope=\"col\">Number of Leaves</th>\n                              <th scope=\"col\">Year</th>\n                              <th scope=\"col\">Status</th>\n                              <th scope=\"col\">Action</th>\n                            </tr>\n                          </thead>\n                          <tbody>{this.getLeavesAllocation()}</tbody>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n\n          {/*Leave allocation modal*/}\n          <div\n            className=\"modal fade leave-allocate\"\n            tabIndex=\"-1\"\n            role=\"dialog\"\n          >\n            <div className=\"modal-dialog modal-lg\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h4 className=\"modal-title\">Leave Allocate</h4>\n                </div>\n                <form role=\"form\" onSubmit={this.allocateLeave}>\n                  <div className=\"modal-body\">\n                    <div className=\"row\">\n                      <div className=\"form-group col-md-6\">\n                        <label>Employee</label>\n                        <select\n                          type=\"\"\n                          className=\"form-control\"\n                          name=\"employeeName\"\n                          onChange={(e) =>\n                            this.setState({\n                              employeeName: e.target.value,\n                            })\n                          }\n                        >\n                          <option selected=\"selected\" disabled=\"disabled\">\n                            Select employee\n                          </option>\n\n                          {this.state.employeeList.map((employee) => (\n                            <option key={employee._id} value={employee._id}>\n                              {employee.first_name + \" \" + employee.last_name}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                      <div className=\"form-group col-md-6\">\n                        <label>Year</label>\n                        <select\n                          className=\"form-control\"\n                          name=\"year\"\n                          onChange={(e) =>\n                            this.setState({\n                              year: e.target.value,\n                            })\n                          }\n                        >\n                          <option selected=\"selected\" disabled=\"disabled\">\n                            Select Year\n                          </option>\n                          {this.years.map((year, index) => {\n                            return (\n                              <option key={`year${index}`} value={year}>\n                                {year}\n                              </option>\n                            );\n                          })}\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"row\">\n                      <div className=\"form-group\">\n                        {/*  Allocation Lines */}\n                        <button\n                          type=\"button\"\n                          onClick={this.add_allocation_line}\n                        >\n                          Add Allocation Line\n                        </button>\n\n                        <div id=\"allocation_lines_container\" className=\"mb-2\">\n                          {this.state.allocationLines.map((line) => (\n                            <AllocationLine\n                              {...line}\n                              key={line.id}\n                              leaveTypes={this.state.leaveTypes}\n                              handleDeleteClick={() =>\n                                this.handleDeleteClick(line.id)\n                              }\n                              handleLineChange={(e) =>\n                                this.handleLineChange(line.id, e)\n                              }\n                            />\n                          ))}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      data-dismiss=\"modal\"\n                    >\n                      Reset\n                    </button>\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                      Allocate\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n\n          {/*update leave allocation modal*/}\n          <div\n            className=\"modal fade update-leaveAllocation\"\n            tabIndex=\"-1\"\n            role=\"dialog\"\n          >\n            <div className=\"modal-dialog modal-lg\" role=\"document\">\n              <div className=\"modal-content\">\n                <div className=\"modal-header\">\n                  <h4 className=\"modal-title\">Update Leave Allocate</h4>\n                </div>\n                <form role=\"form\" onSubmit={this.updateLeaveAllocation}>\n                  <div className=\"modal-body\">\n                    <input\n                      type=\"hidden\"\n                      className=\"form-control\"\n                      name=\"designation_id\"\n                      id=\"leaveAllocate_id_edited\"\n                      placeholder=\"Employee ID\"\n                      required\n                    />\n                    <div className=\"row\">\n                      <div className=\"form-row\">\n                        <div className=\"form-group col-md-3\">\n                          <label>Employee</label>\n                          <select\n                            className=\"form-control\"\n                            id=\"employee_edited\"\n                            name=\"update-employeeName\"\n                          >\n                            <option selected=\"selected\" disabled=\"disabled\">\n                              Select Employee\n                            </option>\n\n                            {this.state.employeeList.map((emp) => (\n                              <option key={emp._id} value={emp._id}>\n                                {emp.first_name + \" \" + emp.last_name}\n                              </option>\n                            ))}\n                          </select>\n                        </div>\n\n                        <div className=\"form-group col-md-3\">\n                          <label>Year</label>\n\n                          <select\n                            className=\"form-control\"\n                            id=\"year_edited\"\n                            name=\"update-year\"\n                          >\n                            <option selected=\"selected\" disabled=\"disabled\">\n                              Select Year\n                            </option>\n                            {this.years.map((year, index) => {\n                              return (\n                                <option key={`year${index}`} value={year}>\n                                  {year}\n                                </option>\n                              );\n                            })}\n                          </select>\n                        </div>\n\n                        <div className=\"form-group col-md-3\">\n                          <label>Leave Type</label>\n                          <select\n                            className=\"form-control\"\n                            id=\"leaveType_edited\"\n                            name=\"update-leaveTypeId\"\n                            required=\"required\"\n                          >\n                            <option\n                              selected=\"selected\"\n                              disabled=\"disabled\"\n                              value=\"\"\n                            >\n                              Select Leave Type\n                            </option>\n\n                            {this.state.leaveTypes.map((leaveType) => (\n                              <option key={leaveType._id} value={leaveType._id}>\n                                {leaveType.leaveType}\n                              </option>\n                            ))}\n                          </select>\n                        </div>\n                        <div className=\"form-group col-md-3\">\n                          <label>Number of Leaves</label>\n                          <input\n                            type=\"number\"\n                            className=\"form-control\"\n                            name=\"update-num_of_leaves\"\n                            id=\"num_of_leaves_edited\"\n                            required\n                          />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"modal-footer\">\n                    <button\n                      type=\"button\"\n                      className=\"btn btn-secondary\"\n                      data-dismiss=\"modal\"\n                    >\n                      Reset\n                    </button>\n                    <button type=\"submit\" className=\"btn btn-primary\">\n                      Update\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default LeaveAllocation;\n"]},"metadata":{},"sourceType":"module"}